include required(classpath("application"))

system.io {
  # For our shared cluster, you want to hit it with lots of requests and let SLURM figure out priority, rather than waiting.
  number-of-requests = 1000000
  per = 1 seconds
  number-of-attempts = 5
}

system {
   file-hash-cache = true
   # Sometimes the defaults for input read limits were too small. These increase the max file sizes.
   input-read-limits {
       tsv = 1073741823
       object = 1073741823
       string = 1073741823
       lines = 1073741823
       json = 1073741823
   }
}
database {
    profile = "slick.jdbc.MySQLProfile$"
    db {
        driver = "com.mysql.cj.jdbc.Driver"
        url = "jdbc:mysql://127.0.0.1/cromwell?rewriteBatchedStatements=true"
        user = "cromwell"
        password = "cromwell_user"
        connectionTimeout = 5000
    }
}

concurrent-job-limit = 2
max-concurrent-workflows = 1

call-caching {
# Allows re-use of existing results for jobs you've already run
# (default: false)
    enabled = true

# Whether to invalidate a cache result forever if we cannot reuse them. Disable this if you expect some cache copies
# to fail for external reasons which should not invalidate the cache (e.g. auth differences between users):
# (default: true)
    invalidate-bad-cache-results = true
}